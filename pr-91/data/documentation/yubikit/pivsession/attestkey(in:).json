{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"attestKey","kind":"identifier"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"slot","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO","kind":"typeIdentifier","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIV"},{"text":".","kind":"text"},{"text":"Slot","preciseIdentifier":"s:7YubiKit3PIVO4SlotO","kind":"typeIdentifier","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIV\/Slot"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":"(","kind":"text"},{"text":"PIVSessionError","preciseIdentifier":"s:7YubiKit15PIVSessionErrorO","kind":"typeIdentifier","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSessionError"},{"text":") -> ","kind":"text"},{"text":"X509Cert","preciseIdentifier":"s:7YubiKit8X509CertV","kind":"typeIdentifier","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/X509Cert"}],"platforms":["iOS"],"languages":["swift"]}]},{"kind":"parameters","parameters":[{"name":"slot","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The slot containing the private key to use."}]}]}]},{"kind":"content","content":[{"level":2,"anchor":"return-value","type":"heading","text":"Return Value"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The attestation certificate."}]}]},{"kind":"content","content":[{"level":2,"anchor":"discussion","type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A high level description of the thinking and how this can be used can be found at"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"https:\/\/developers.yubico.com\/PIV\/Introduction\/PIV_attestation.html"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"Attestation works through a special key slot called “f9” this comes pre-loaded from factory"},{"type":"text","text":" "},{"type":"text","text":"with a key and cert signed by Yubico, but can be overwritten. After a key has been generated"},{"type":"text","text":" "},{"type":"text","text":"in a normal slot it can be attested by this special key"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This method requires authentication."}]},{"name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This functionality requires support for attestation, available on YubiKey 4.3 or later."}]}],"type":"aside"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/yubikit\/pivsession\/attestkey(in:)"]}],"metadata":{"title":"attestKey(in:)","symbolKind":"method","externalID":"s:7YubiKit10PIVSessionC9attestKey2inAA8X509CertVAA3PIVO4SlotO_tYaAA0C5ErrorOYKF","roleHeading":"Instance Method","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"attestKey","kind":"identifier"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:7YubiKit3PIVO","text":"PIV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:7YubiKit3PIVO4SlotO","text":"Slot"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"s:7YubiKit15PIVSessionErrorO","text":"PIVSessionError"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:7YubiKit8X509CertV","text":"X509Cert"}],"modules":[{"name":"YubiKit"}]},"schemaVersion":{"major":0,"minor":3,"patch":0},"kind":"symbol","abstract":[{"type":"text","text":"Creates an attestation certificate for a private key which was generated on the YubiKey."}],"seeAlsoSections":[{"title":"Key Management","anchor":"Key-Management","identifiers":["doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/generateKey(in:type:pinPolicy:touchPolicy:)","doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/moveKey(from:to:)","doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/deleteKey(in:)","doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/getMetadata(in:)"],"generated":true}],"sections":[],"identifier":{"url":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/attestKey(in:)","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit","doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession"]]},"references":{"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIVSession/attestKey(in:)":{"title":"attestKey(in:)","url":"\/documentation\/yubikit\/pivsession\/attestkey(in:)","abstract":[{"type":"text","text":"Creates an attestation certificate for a private key which was generated on the YubiKey."}],"kind":"symbol","role":"symbol","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/attestKey(in:)","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"attestKey"},{"kind":"text","text":"("},{"kind":"externalParam","text":"in"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:7YubiKit3PIVO4SlotO","text":"Slot"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"PIVSessionError","preciseIdentifier":"s:7YubiKit15PIVSessionErrorO"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"X509Cert","preciseIdentifier":"s:7YubiKit8X509CertV"}]},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIV/Slot":{"url":"\/documentation\/yubikit\/piv\/slot","abstract":[{"type":"text","text":"The slot to use in the PIV application."}],"title":"PIV.Slot","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIV\/Slot","role":"symbol","kind":"symbol","type":"topic","navigatorTitle":[{"text":"Slot","kind":"identifier"}],"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Slot","kind":"identifier"}]},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIV":{"identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIV","abstract":[{"type":"text","text":"Namespace for all PIV related types"}],"title":"PIV","url":"\/documentation\/yubikit\/piv","role":"symbol","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PIV"}],"fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PIV"}]},"doc://yubikit-swift.YubiKit/documentation/YubiKit":{"images":[{"type":"icon","identifier":"documentation-header.png"}],"url":"\/documentation\/yubikit","abstract":[{"type":"text","text":"Connect and run commands on the different applications on a YubiKey. The framework support connecting using NFC, Lightning and USB."}],"identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit","kind":"symbol","role":"collection","type":"topic","title":"YubiKit"},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIVSessionError":{"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PIVSessionError","kind":"identifier"}],"url":"\/documentation\/yubikit\/pivsessionerror","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSessionError","abstract":[{"type":"text","text":"PIV session errors."}],"kind":"symbol","role":"symbol","navigatorTitle":[{"text":"PIVSessionError","kind":"identifier"}],"type":"topic","title":"PIVSessionError"},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIVSession":{"fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PIVSession","kind":"identifier"}],"url":"\/documentation\/yubikit\/pivsession","abstract":[{"type":"text","text":"An interface to the PIV application on the YubiKey."}],"identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession","kind":"symbol","role":"symbol","navigatorTitle":[{"text":"PIVSession","kind":"identifier"}],"type":"topic","title":"PIVSession"},"documentation-header.png":{"variants":[{"url":"\/images\/yubikit-swift.YubiKit\/documentation-header@2x.png","traits":["2x","light"]},{"url":"\/images\/yubikit-swift.YubiKit\/documentation-header~dark@2x.png","traits":["2x","dark"]}],"alt":"YubiKeys in a row","type":"image","identifier":"documentation-header.png"},"doc://yubikit-swift.YubiKit/documentation/YubiKit/X509Cert":{"title":"X509Cert","url":"\/documentation\/yubikit\/x509cert","abstract":[{"type":"text","text":"X.509 certificate representation with DER encoding support."},{"type":"text","text":" "},{"type":"text","text":"Provides methods for working with SecCertificate and extracting cryptographic keys."}],"kind":"symbol","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"X509Cert"}],"type":"topic","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/X509Cert","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"X509Cert"}]},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIVSession/generateKey(in:type:pinPolicy:touchPolicy:)":{"title":"generateKey(in:type:pinPolicy:touchPolicy:)","url":"\/documentation\/yubikit\/pivsession\/generatekey(in:type:pinpolicy:touchpolicy:)","abstract":[{"type":"text","text":"Generates a new key pair within the YubiKey."}],"kind":"symbol","role":"symbol","type":"topic","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/generateKey(in:type:pinPolicy:touchPolicy:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"generateKey"},{"kind":"text","text":"("},{"kind":"externalParam","text":"in"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Slot","preciseIdentifier":"s:7YubiKit3PIVO4SlotO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"type"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"KeyType","preciseIdentifier":"s:7YubiKit3PIVO7KeyTypeO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"pinPolicy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"PinPolicy","preciseIdentifier":"s:7YubiKit3PIVO9PinPolicyO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"touchPolicy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"TouchPolicy","preciseIdentifier":"s:7YubiKit3PIVO11TouchPolicyO"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"PIVSessionError","preciseIdentifier":"s:7YubiKit15PIVSessionErrorO"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"PublicKey","preciseIdentifier":"s:7YubiKit9PublicKeyO"}]},"https://developers.yubico.com/PIV/Introduction/PIV_attestation.html":{"title":"PIV attestation documentation","identifier":"https:\/\/developers.yubico.com\/PIV\/Introduction\/PIV_attestation.html","titleInlineContent":[{"type":"text","text":"PIV attestation documentation"}],"type":"link","url":"https:\/\/developers.yubico.com\/PIV\/Introduction\/PIV_attestation.html"},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIVSession/deleteKey(in:)":{"title":"deleteKey(in:)","url":"\/documentation\/yubikit\/pivsession\/deletekey(in:)","abstract":[{"type":"text","text":"Delete key from slot. This method requires authentication with the management key."}],"kind":"symbol","role":"symbol","identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/deleteKey(in:)","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"deleteKey"},{"kind":"text","text":"("},{"kind":"externalParam","text":"in"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Slot","preciseIdentifier":"s:7YubiKit3PIVO4SlotO"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"PIVSessionError","preciseIdentifier":"s:7YubiKit15PIVSessionErrorO"},{"kind":"text","text":")"}]},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIVSession/moveKey(from:to:)":{"url":"\/documentation\/yubikit\/pivsession\/movekey(from:to:)","abstract":[{"type":"text","text":"Move key from one slot to another. The source slot must not be the attestation slot and the"},{"type":"text","text":" "},{"type":"text","text":"destination slot must be empty. This method requires authentication with the management key."}],"identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/moveKey(from:to:)","title":"moveKey(from:to:)","role":"symbol","kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"moveKey"},{"kind":"text","text":"("},{"kind":"externalParam","text":"from"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Slot","preciseIdentifier":"s:7YubiKit3PIVO4SlotO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"to"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Slot","preciseIdentifier":"s:7YubiKit3PIVO4SlotO"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"PIVSessionError","preciseIdentifier":"s:7YubiKit15PIVSessionErrorO"},{"kind":"text","text":")"}]},"doc://yubikit-swift.YubiKit/documentation/YubiKit/PIVSession/getMetadata(in:)":{"identifier":"doc:\/\/yubikit-swift.YubiKit\/documentation\/YubiKit\/PIVSession\/getMetadata(in:)","url":"\/documentation\/yubikit\/pivsession\/getmetadata(in:)","title":"getMetadata(in:)","abstract":[{"type":"text","text":"Reads metadata about the private key stored in a slot."}],"role":"symbol","kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getMetadata"},{"kind":"text","text":"("},{"kind":"externalParam","text":"in"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Slot","preciseIdentifier":"s:7YubiKit3PIVO4SlotO"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"PIVSessionError","preciseIdentifier":"s:7YubiKit15PIVSessionErrorO"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"PIV","preciseIdentifier":"s:7YubiKit3PIVO"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"SlotMetadata","preciseIdentifier":"s:7YubiKit3PIVO12SlotMetadataV"}]}}}